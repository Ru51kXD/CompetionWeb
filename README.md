# CompetitionWeb

CompetitionWeb - это современная веб-платформа для организации и проведения спортивных, интеллектуальных и творческих соревнований. Проект разработан с использованием современных технологий и предлагает удобный интерфейс как для организаторов, так и для участников мероприятий.

## Технологии

- **Frontend**: Next.js 14 (React), TypeScript/JavaScript
- **Стилизация**: Tailwind CSS
- **Анимации**: Framer Motion, GSAP
- **Коммуникация**: Socket.io для real-time уведомлений
- **База данных**: SQLite с ORM Prisma
- **Иконки**: React Icons

## Особенности проекта

### Общие функции
- Современный дизайн с анимациями и эффектом параллакса
- Адаптивный интерфейс для мобильных и десктопных устройств
- Система уведомлений в реальном времени (через Socket.io)
- Локальная база данных SQLite для хранения информации

### Функции для пользователей
- Регистрация и авторизация пользователей
- Личный кабинет с настройками профиля
- Создание и управление своими командами
- Присоединение к существующим командам
- Поиск соревнований по категориям и местоположению
- Отображение соревнований на карте (Google Maps API)

### Функции для администраторов
- Полнофункциональная панель администратора
- Создание и редактирование соревнований
- Управление командами и участниками
- Просмотр детальной информации о соревнованиях
- Просмотр и управление пользователями
- Система сообщений и уведомлений

## Панель администратора

Административная панель предоставляет удобный интерфейс для управления всеми аспектами платформы:

- **Дашборд**: Отображение ключевых метрик и статистики платформы
- **Соревнования**: Создание, редактирование и удаление соревнований
  - Детальные страницы соревнований со списками команд и участников
  - Статистика по каждому соревнованию
- **Команды**: Управление командами и их составами
  - Детальная информация о каждой команде
  - Управление участниками команд
- **Пользователи**: Управление аккаунтами пользователей
  - Редактирование профилей пользователей
  - Назначение прав доступа
- **Сообщения**: Система коммуникации с пользователями

## Система уведомлений

Платформа включает развитую систему уведомлений:

- Уведомления в реальном времени через Socket.io
- Визуальное отображение новых и непрочитанных уведомлений
- Различные типы уведомлений (информационные, предупреждения, успешные действия)
- История уведомлений с возможностью отметить как прочитанное
- Временные метки и форматирование времени для удобства пользователей

## Структура проекта

- `/app` - Основной код приложения (Next.js App Router)
  - `/admin` - Административная панель
    - `/competitions` - Управление соревнованиями
    - `/teams` - Управление командами
    - `/users` - Управление пользователями
    - `/messages` - Система сообщений
  - `/components` - Переиспользуемые компоненты
  - `/competitions` - Публичные страницы соревнований
  - `/teams` - Страницы команд
  - `/profile` - Личный кабинет пользователя
  - `/login` - Авторизация
  - `/register` - Регистрация
  - `/about` - Страница о проекте
  - `/contact` - Страница контактов
  - `/hooks` - Пользовательские хуки (включая useSocket)
  - `/context` - React контексты для управления состоянием
- `/prisma` - Схема базы данных и миграции
- `/public` - Статические ресурсы

## Настройка Google Maps API

Для корректной работы карты соревнований необходимо настроить Google Maps API ключ:

1. Перейдите на [Google Cloud Console](https://console.cloud.google.com/)
2. Создайте новый проект или выберите существующий
3. В боковом меню выберите "APIs & Services" > "Library"
4. Активируйте следующие API:
   - Maps JavaScript API
   - Places API
   - Geocoding API
5. В боковом меню выберите "APIs & Services" > "Credentials"
6. Нажмите "Create Credentials" > "API Key"
7. Скопируйте созданный ключ
8. Создайте файл `.env.local` в корневой директории проекта со следующим содержимым:
   ```
   NEXT_PUBLIC_GOOGLE_MAPS_API_KEY=ваш_ключ_api
   ```
9. Перезапустите сервер разработки

## Настройка Socket.io

Для корректной работы системы уведомлений необходимо убедиться, что сервер Socket.io запущен:

1. Проверьте наличие файла `/app/api/socket/route.js`
2. Убедитесь, что клиентский хук `useSocket` корректно подключается к серверу
3. При запуске проекта в консоли должно появиться сообщение "Socket.io server started successfully"

## Запуск проекта

1. Установите зависимости:
```bash
npm install
```

2. Установите дополнительный пакет для оптимизации CSS (используется Next.js):
```bash
npm install critters
```

3. Настройте базу данных:
```bash
npx prisma generate
npx prisma migrate dev
```

4. Запустите сервер разработки:
```bash
npm run dev
```

5. Откройте [http://localhost:3000](http://localhost:3000) в браузере.

## Сборка для продакшена

```bash
npm run build
npm start
```

## Известные проблемы

- При запуске проекта могут возникать ошибки, связанные с отсутствием модуля `critters`. Решается установкой пакета `npm install critters`
- Некоторые изображения могут не загружаться (ошибки 404 для изображений с unsplash.com). Рекомендуется заменить на локальные изображения или исправить URL
- При некорректной настройке Socket.io могут возникать ошибки подключения к `/socket.io` (404)

## Лицензия

MIT 